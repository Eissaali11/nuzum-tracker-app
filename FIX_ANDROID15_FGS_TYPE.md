# ๐ง ุฅุตูุงุญ ูุดููุฉ MissingForegroundServiceTypeException ุนูู Android 15

## ุงููุดููุฉ:
```
MissingForegroundServiceTypeException: Starting FGS without a type
targetSDK=36
```

ุงูุชุทุจูู ูุชุนุทู ุนูู Android 15 (targetSDK 36) ูุฃู `flutter_background_service` ูุง ูุญุฏุฏ ููุน foreground service ุจุดูู ุตุฑูุญ ุนูุฏ ุจุฏุก ุงูุฎุฏูุฉ.

## ุงูุณุจุจ:
ูู Android 15 (targetSDK 36)ุ ุฃุตุจุญ ูู ุงูุถุฑูุฑู ุชุญุฏูุฏ ููุน foreground service ุจุดูู ุตุฑูุญ ุนูุฏ ุจุฏุก ุงูุฎุฏูุฉุ ูููุณ ููุท ูู AndroidManifest.xml.

## โ ุงูุญููู ุงููุทุจูุฉ:

### 1. โ ุชุญุฏูุซ flutter_background_service
ุชู ุชุญุฏูุซ ุงูุญุฒูุฉ ูู `^5.0.1` ุฅูู `^5.1.0` ููุญุตูู ุนูู ุฏุนู ุฃูุถู ูู Android 15.

### 2. โ ุฅุถุงูุฉ ุงูุฃุฐููุงุช ุงููุทููุจุฉ
ุชู ุฅุถุงูุฉ ุงูุฃุฐููุงุช ุงูุชุงููุฉ ุฅูู `AndroidManifest.xml`:
- `FOREGROUND_SERVICE_LOCATION` - ููุฎุฏูุฉ ุงูุฎูููุฉ ูุน ุงููููุน (Android 12+)
- `POST_NOTIFICATIONS` - ูุนุฑุถ ุงูุฅุดุนุงุฑุงุช (Android 13+)

### 3. โ ุฅุถุงูุฉ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
ุชู ุฅุถุงูุฉ try-catch ูู:
- ุฏุงูุฉ `main()` - ูููุน ุงูุชุนุทู ุนูุฏ ุงูุชููุฆุฉ
- `MyApplication.onCreate()` - ูููุน ุงูุชุนุทู ุนูุฏ ุฅูุดุงุก ููุงุฉ ุงูุฅุดุนุงุฑุงุช

### 4. โ ุฅุนุฏุงุฏุงุช AndroidManifest
ุชู ุงูุชุฃูุฏ ูู ูุฌูุฏ:
- `android:foregroundServiceType="location"` ูู ุชุนุฑูู ุงูุฎุฏูุฉ
- ุฌููุน ุงูุฃุฐููุงุช ุงููุทููุจุฉ

## ๐ ุงูุฎุทูุงุช ุงููุทููุจุฉ ุงูุขู:

### 1. ุฅุนุงุฏุฉ ุจูุงุก ุงูุชุทุจูู:
```bash
flutter clean
flutter pub get
flutter build apk --release
```

### 2. ุชุซุจูุช ุงููุณุฎุฉ ุงูุฌุฏูุฏุฉ:
- ุงุญุฐู ุงููุณุฎุฉ ุงููุฏููุฉ ูู ุงูุฌูุงู (ุฅู ูุฌุฏุช)
- ุซุจุช ุงููุณุฎุฉ ุงูุฌุฏูุฏุฉ
- ุงูุชุทุจูู ูุฌุจ ุฃู ูุนูู ุงูุขู ุจุฏูู ุชุนุทู

## ๐ ููุงุญุธุงุช ูููุฉ:

1. **ุงูุฅุตุฏุงุฑ 5.1.0**: 
   - ูุฏ ูุญุชูู ุนูู ุฅุตูุงุญุงุช ูู Android 15
   - ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉุ ูุฏ ูุญุชุงุฌ ูุชุญุฏูุซ ุงูุญุฒูุฉ ูุฑุฉ ุฃุฎุฑู ุนูุฏ ุชููุฑ ุฅุตุฏุงุฑ ุฃุญุฏุซ

2. **AndroidManifest.xml**:
   - ุชุฃูุฏ ูู ูุฌูุฏ `android:foregroundServiceType="location"` ูู ุชุนุฑูู ุงูุฎุฏูุฉ
   - ุชุฃูุฏ ูู ูุฌูุฏ ุฌููุน ุงูุฃุฐููุงุช ุงููุทููุจุฉ

3. **ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ**:
   - ูุฏ ูุญุชุงุฌ ูุชุญุฏูุซ `flutter_background_service` ุฅูู ุฅุตุฏุงุฑ ุฃุญุฏุซ ุนูุฏ ุชูุงูุฑู
   - ุฃู ูุฏ ูุญุชุงุฌ ูุชุนุฏูู `targetSdk` ูุคูุชูุง ุฅูู 35 ุญุชู ูุชู ุฅุตูุงุญ ุงููุดููุฉ ูู ุงูุญุฒูุฉ

## ๐ ููุชุญูู ูู ูุฌุงุญ ุงูุฅุตูุงุญ:

1. ุงูุชุญ ุงูุชุทุจูู ุนูู A15
2. ูุฌุจ ุฃู ููุชุญ ุจุฏูู ุชุนุทู
3. ูุฏ ูุทูุจ ุงููุธุงู ุฃุฐููุงุช (ุงูุฅุดุนุงุฑุงุช ูุงููููุน)
4. ุจุนุฏ ููุญ ุงูุฃุฐููุงุชุ ูุฌุจ ุฃู ูุนูู ุงูุชุทุจูู ุจุดูู ุทุจูุนู

## ๐ฑ ุฅุฐุง ุงุณุชูุฑ ุงูุชุนุทู:

1. **ุชุญูู ูู ุงูู logs**:
   ```bash
   adb logcat | grep -i "nuzum\|flutter\|error\|MissingForegroundServiceType"
   ```

2. **ุชุญูู ูู ุงูุฃุฐููุงุช**:
   - Settings > Apps > nuzum_tracker > Permissions
   - ุชุฃูุฏ ูู ููุญ ุฌููุน ุงูุฃุฐููุงุช ุงููุทููุจุฉ

3. **ุฃุนุฏ ุชุซุจูุช ุงูุชุทุจูู**:
   - ุงุญุฐู ุงูุชุทุจูู ุจุงููุงูู
   - ุฃุนุฏ ุชุซุจูุชู ูู ุฌุฏูุฏ

4. **ุชุญุฏูุซ ุงูุญุฒูุฉ**:
   - ุฑุงูุจ ุชุญุฏูุซุงุช `flutter_background_service` ุนูู pub.dev
   - ูุฏ ูุญุชุงุฌ ุฅุตุฏุงุฑ ุฃุญุฏุซ ูุฏุนู ูุงูู ูู Android 15

