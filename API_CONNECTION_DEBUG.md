# ๐ ุฏููู ุชุตุญูุญ ูุดุงูู ุงูุงุชุตุงู ุจู API
## API Connection Debugging Guide

---

## ๐ ุงููุดููุฉ ุงูุญุงููุฉ

ุงูุฑุจุท ูุน API ูุง ูุนูู ูุงูุจูุงูุงุช ูุง ุชุธูุฑ ูู ุงูุตูุญุงุช.

---

## ๐ง ุงูุญููู ุงููุทุจูุฉ

### 1. โ ุชุญุฏูุซ ุงูุฑุงุจุท ุงูุฃุณุงุณู:
- ูู: `http://nuzum.site` (HTTP - ูุณุจุจ 301)
- ุฅูู: `https://nuzum.site` (HTTPS)

### 2. โ ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก:
- ุฅุถุงูุฉ ูุนุงูุฌุฉ ูุฌููุน ุฃููุงุฏ ุฅุนุงุฏุฉ ุงูุชูุฌูู (301, 302, 307, 308)
- ุฅุถุงูุฉ ูุนุงูุฌุฉ ูุฃุฎุทุงุก ุงูุงุชุตุงู (Timeout, SocketException)
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุจุงูุนุฑุจูุฉ

### 3. โ ุชุญุณูู ูุธุงู ุงูุชุจุฏูู ุงูุชููุงุฆู:
- ูุญุงููุฉ ุงูุฑุงุจุท ุงูุฃุณุงุณู ุฃููุงู
- ุงูุงูุชูุงู ุงูุชููุงุฆู ููุฑุงุจุท ุงูุงุญุชูุงุทู ุนูุฏ ุงููุดู
- ุชุณุฌูู ููุตู ูู console

### 4. โ ุฅุถุงูุฉ ุฑุณุงุฆู Debug:
- ุชุณุฌูู ุฌููุน ูุญุงููุงุช ุงูุงุชุตุงู
- ุชุณุฌูู ุฃููุงุฏ ุงูุญุงูุฉ
- ุชุณุฌูู ุงูุฃุฎุทุงุก ุจุงูุชูุตูู

---

## ๐ ููููุฉ ุงูุชุญูู ูู ุงููุดููุฉ

### 1. ูุชุญ Console (Logcat):
ูู Android Studio ุฃู VS Codeุ ุงูุชุญ Logcat ูุงุจุญุซ ุนู:
- `๐ [EmployeeAPI]` - ูุญุงููุงุช ุงูุงุชุตุงู
- `๐ [EmployeeAPI]` - ุฃููุงุฏ ุงูุญุงูุฉ
- `โ [EmployeeAPI]` - ูุฌุงุญ ุงูุงุชุตุงู
- `โ [EmployeeAPI]` - ุฃุฎุทุงุก ุงูุงุชุตุงู
- `โ๏ธ [EmployeeAPI]` - ุชุญุฐูุฑุงุช

### 2. ุงูุฑุณุงุฆู ุงููุชููุนุฉ:

#### ุนูุฏ ุงููุฌุงุญ:
```
๐ [EmployeeAPI] Trying primary URL: https://nuzum.site/api/external/employee-complete-profile
๐ [EmployeeAPI] Primary response status: 200
โ [EmployeeAPI] Successfully loaded data from primary URL
โ [MainNav] Data loaded successfully:
   - Employee: [ุงุณู ุงูููุธู]
   - Attendance: X records
   - Cars: X cars
   - Salaries: X records
   - Operations: X records
```

#### ุนูุฏ ุงููุดู ูุงูุชุจุฏูู ููุงุญุชูุงุทู:
```
๐ [EmployeeAPI] Trying primary URL: https://nuzum.site/api/external/employee-complete-profile
๐ [EmployeeAPI] Primary response status: 301
โ๏ธ [EmployeeAPI] Primary server returned 301 (redirect), trying backup...
๐ [EmployeeAPI] Trying backup URL: https://eissahr.replit.app/api/external/employee-complete-profile
๐ [EmployeeAPI] Backup response status: 200
โ [EmployeeAPI] Successfully connected via backup URL
```

#### ุนูุฏ ุงููุดู ุงููุงูู:
```
๐ [EmployeeAPI] Trying primary URL: https://nuzum.site/api/external/employee-complete-profile
โ [EmployeeAPI] Exception with primary URL: [ุชูุงุตูู ุงูุฎุทุฃ]
๐ [EmployeeAPI] Trying backup URL...
๐ [EmployeeAPI] Trying backup URL: https://eissahr.replit.app/api/external/employee-complete-profile
โ [EmployeeAPI] Exception with backup URL: [ุชูุงุตูู ุงูุฎุทุฃ]
โ๏ธ [MainNav] Failed to load data: [ุฑุณุงูุฉ ุงูุฎุทุฃ]
```

---

## ๐๏ธ ุฎุทูุงุช ุงูุชุตุญูุญ

### ุงูุฎุทูุฉ 1: ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช
1. ุงูุชุญ ุงูุชุทุจูู
2. ุชุฃูุฏ ูู ุฅุฏุฎุงู:
   - ุงูุฑูู ุงููุธููู (ูุซู: 5216)
   - ููุชุงุญ API (test_location_key_2025)

### ุงูุฎุทูุฉ 2: ูุญุต Console
1. ุงูุชุญ Logcat ูู Android Studio
2. ุงุจุญุซ ุนู ุฑุณุงุฆู `[EmployeeAPI]` ุฃู `[MainNav]`
3. ุชุญูู ูู:
   - ูู ูุชู ูุญุงููุฉ ุงูุงุชุตุงูุ
   - ูุง ูู ููุฏ ุงูุญุงูุฉุ
   - ูุง ูู ุฑุณุงูุฉ ุงูุฎุทุฃุ

### ุงูุฎุทูุฉ 3: ุงูุชุญูู ูู ุงูุงุชุตุงู
- ุชุฃูุฏ ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
- ุชุฃูุฏ ูู ุฃู ุงูุฑุงุจุท ูุนูู ูู ุงููุชุตูุญ

### ุงูุฎุทูุฉ 4: ุงุฎุชุจุงุฑ ูุจุงุดุฑ
ููููู ุงุฎุชุจุงุฑ API ูุจุงุดุฑุฉ ุจุงุณุชุฎุฏุงู:
```bash
curl -X POST https://nuzum.site/api/external/employee-complete-profile \
  -H "Content-Type: application/json" \
  -d '{"api_key":"test_location_key_2025","job_number":"5216"}'
```

---

## ๐ ุงูุฑูุงุจุท ุงููุณุชุฎุฏูุฉ

### ุงูุฑุงุจุท ุงูุฃุณุงุณู:
```
https://nuzum.site/api/external/employee-complete-profile
```

### ุงูุฑุงุจุท ุงูุงุญุชูุงุทู:
```
https://eissahr.replit.app/api/external/employee-complete-profile
```

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุชุจุฏูู ุงูุชููุงุฆู:**
   - ุงูุชุทุจูู ูุญุงูู ุงูุฑุงุจุท ุงูุฃุณุงุณู ุฃููุงู
   - ูู ุญุงูุฉ ุงููุดูุ ููุชูู ุชููุงุฆูุงู ููุฑุงุจุท ุงูุงุญุชูุงุทู
   - ูุง ูุญุชุงุฌ ุงููุณุชุฎุฏู ูุฃู ุชุฏุฎู

2. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก:**
   - ุฌููุน ุงูุฃุฎุทุงุก ูุนุงูุฌุฉ
   - ุฑุณุงุฆู ูุงุถุญุฉ ุจุงูุนุฑุจูุฉ
   - ุฅููุงููุฉ ุฅุนุงุฏุฉ ุงููุญุงููุฉ

3. **ุงูุชุณุฌูู:**
   - ุฌููุน ุงูุนูููุงุช ูุณุฌูุฉ ูู console
   - ูููู ุชุชุจุน ุงููุดููุฉ ุจุณูููุฉ

---

## โ ุงูุญููู ุงููุทุจูุฉ

1. โ ุชุญุฏูุซ ุงูุฑุงุจุท ุฅูู HTTPS
2. โ ูุนุงูุฌุฉ ุฅุนุงุฏุฉ ุงูุชูุฌูู (301, 302, 307, 308)
3. โ ุชุญุณูู ูุธุงู ุงูุชุจุฏูู ุงูุชููุงุฆู
4. โ ุฅุถุงูุฉ ุฑุณุงุฆู debug ููุตูุฉ
5. โ ูุนุงูุฌุฉ ุฃูุถู ูุฃุฎุทุงุก ุงูุงุชุตุงู
6. โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุจุงูุนุฑุจูุฉ

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2025-01-XX

