# ุชูุฑูุฑ ูุญุต ุงููุดุฑูุน - Nuzum Tracker App

## ๐ ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุดุฑูุน

ุชุทุจูู Flutter ูุชุชุจุน ูููุน ุงูููุธููู ูุนูู ูู ุงูุฎูููุฉ ููุฑุณู ุงููููุน ุงูุฌุบุฑุงูู ุชููุงุฆูุงู ุฅูู ุฎุงุฏู API.

---

## ๐ ุจูุงูุงุช ุงูุฑุจุท ูุน API

### 1. ุฑุงุจุท API ุงูุฃุณุงุณู (Base URL)
```
https://d72f2aef-918c-4148-9723-15870f8c7cf6-00-2c1ygyxvqoldk.riker.replit.dev
```

### 2. Endpoint ุงููุงูู
```
POST /api/external/employee-location
```

**ุงูุฑุงุจุท ุงููุงูู:**
```
https://d72f2aef-918c-4148-9723-15870f8c7cf6-00-2c1ygyxvqoldk.riker.replit.dev/api/external/employee-location
```

### 3. API Key ุงูุงูุชุฑุงุถู
```
test_location_key_2025
```

### 4. ุทุฑููุฉ ุงูุทูุจ (HTTP Method)
```
POST
```

### 5. Headers ุงููุทููุจุฉ
```json
{
  "Content-Type": "application/json; charset=UTF-8"
}
```

### 6. Body ุงูุจูุงูุงุช ุงููุฑุณูุฉ (Request Body)
```json
{
  "api_key": "string",
  "job_number": "string",
  "latitude": number,
  "longitude": number,
  "accuracy": number (optional),
  "recorded_at": "string (ISO 8601 format: yyyy-MM-dd'T'HH:mm:ss'Z')"
}
```

**ูุซุงู:**
```json
{
  "api_key": "test_location_key_2025",
  "job_number": "12345",
  "latitude": 24.7136,
  "longitude": 46.6753,
  "accuracy": 10.5,
  "recorded_at": "2025-01-27T10:30:00Z"
}
```

### 7. Response ุงููุชููุน
- **ูุฌุงุญ:** Status Code `200`
- **ูุดู:** Status Code ุบูุฑ `200`

---

## ๐ ุจููุฉ ุงููุดุฑูุน

### ุงููููุงุช ุงูุฑุฆูุณูุฉ

#### 1. `lib/services/api_service.dart`
- **ุงููุธููุฉ:** ุฎุฏูุฉ ุฅุฑุณุงู ุงููููุน ุฅูู API
- **ุงูููุงุณ:** `ApiService`
- **ุงูุฏุงูุฉ ุงูุฑุฆูุณูุฉ:** `sendLocation()`
- **ููุงุญุธุฉ:** ูุญุชูู ุนูู `MyHttpOverrides` ูุชุฌุงูุฒ ุงูุชุญูู ูู ุดูุงุฏุงุช SSL (ููุชุทููุฑ ููุท)

#### 2. `lib/services/background_service.dart`
- **ุงููุธููุฉ:** ุฎุฏูุฉ ุงูุฎูููุฉ ูุชุชุจุน ุงููููุน ุชููุงุฆูุงู
- **ุงูุชูุฑุงุฑ:** ูู ุฏูููุฉ ูุงุญุฏุฉ
- **ุงูููุชุจุงุช ุงููุณุชุฎุฏูุฉ:** `geolocator` ููุญุตูู ุนูู ุงููููุน

#### 3. `lib/screens/setup_screen.dart`
- **ุงููุธููุฉ:** ุดุงุดุฉ ุฅุฏุฎุงู ุงูุฑูู ุงููุธููู ู API Key
- **ุงูููู ุงูุงูุชุฑุงุถูุฉ:** 
  - API Key: `test_location_key_2025`
  - Job Number: (ูุชู ุฅุฏุฎุงูู ูู ุงููุณุชุฎุฏู)

#### 4. `lib/screens/tracking_screen.dart`
- **ุงููุธููุฉ:** ุนุฑุถ ุญุงูุฉ ุงูุชุชุจุน
- **ุงููุนูููุงุช ุงููุนุฑูุถุฉ:**
  - ุญุงูุฉ ุงูุฎุฏูุฉ
  - ุขุฎุฑ ุชุญุฏูุซ
  - ุงูุฑูู ุงููุธููู

#### 5. `lib/screens/splash_screen.dart`
- **ุงููุธููุฉ:** ุดุงุดุฉ ุงูุจุฏุงูุฉ ูุน ุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช

#### 6. `lib/screens/disclaimer_screen.dart`
- **ุงููุธููุฉ:** ุดุงุดุฉ ุฅุฎูุงุก ุงููุณุคูููุฉ ูุงูููุงููุฉ

---

## ๐ฆ ุงูููุชุจุงุช ุงููุณุชุฎุฏูุฉ (Dependencies)

```yaml
dependencies:
  flutter:
    sdk: flutter
  http: ^1.2.1                    # ุทูุจุงุช HTTP
  shared_preferences: ^2.2.3      # ุชุฎุฒูู ุงูุจูุงูุงุช ูุญููุงู
  location: ^6.0.2                # ุงููุตูู ูููููุน
  geolocator: ^12.0.0             # ุงูุญุตูู ุนูู ุงููููุน ุงูุฌุบุฑุงูู
  flutter_background_service: ^5.0.1  # ุฎุฏูุฉ ุงูุฎูููุฉ
  intl: ^0.19.0                   # ุชูุณูู ุงูุชุงุฑูุฎ
  cupertino_icons: ^1.0.8
```

---

## ๐ ุชุฏูู ุงูุนูู (Workflow)

1. **ุจุฏุก ุงูุชุทุจูู** โ `SplashScreen`
2. **ุงูุชุญูู ูู ุงูููุงููุฉ** โ `DisclaimerScreen` (ุฅุฐุง ูู ูุชู ุงูููุงููุฉ)
3. **ุฅุฏุฎุงู ุงูุจูุงูุงุช** โ `SetupScreen`
   - ุฅุฏุฎุงู ุงูุฑูู ุงููุธููู
   - API Key (ุงูุชุฑุงุถู: `test_location_key_2025`)
4. **ุจุฏุก ุงูุชุชุจุน** โ `TrackingScreen`
   - ุจุฏุก ุฎุฏูุฉ ุงูุฎูููุฉ
   - ุฅุฑุณุงู ุงููููุน ูู ุฏูููุฉ
5. **ุฅููุงู ุงูุชุชุจุน** โ ุญุฐู ุงูุจูุงูุงุช ูุงูุนูุฏุฉ ูู `SetupScreen`

---

## โ๏ธ ุฅุนุฏุงุฏุงุช ุงูุฎุฏูุฉ ุงูุฎูููุฉ

- **ุงูุชูุฑุงุฑ:** ูู ุฏูููุฉ ูุงุญุฏุฉ (`Duration(minutes: 1)`)
- **ุฏูุฉ ุงููููุน:** `LocationAccuracy.medium`
- **ุงูุฅุดุนุงุฑ:** ูุดุท ูู ุงูููุฏูุฉ (Foreground Service)
- **Channel ID:** `nuzum_tracker_foreground`
- **Notification ID:** `888`

---

## ๐ ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### โ๏ธ ููุงุญุธุงุช ูููุฉ:

1. **SSL Certificate Bypass:**
   - ุงูููุฏ ูุญุชูู ุนูู `badCertificateCallback` ุงูุฐู ูุชุฌุงูุฒ ุงูุชุญูู ูู ุดูุงุฏุงุช SSL
   - **ูุฐุง ููุงุณุชุฎุฏุงู ูู ุงูุชุทููุฑ ููุท!** ูุฌุจ ุฅุฒุงูุชู ูู ุงูุฅูุชุงุฌ

2. **ุชุฎุฒูู ุงูุจูุงูุงุช:**
   - ูุชู ุชุฎุฒูู `jobNumber` ู `apiKey` ูู `SharedPreferences`
   - ุงูุจูุงูุงุช ุบูุฑ ูุดูุฑุฉ ูุญููุงู

3. **ุงูุฃุฐููุงุช:**
   - ุงููููุน (Location Permission)
   - ุงูุฎุฏูุฉ ุงูุฎูููุฉ (Background Service)

---

## ๐ ุงูุชูุตูุงุช

### 1. ุชุญุณููุงุช ุงูุฃูุงู
- [ ] ุฅุฒุงูุฉ `badCertificateCallback` ูู ุงูุฅูุชุงุฌ
- [ ] ุชุดููุฑ `apiKey` ู `jobNumber` ูุจู ุงูุชุฎุฒูู
- [ ] ุงุณุชุฎุฏุงู `flutter_secure_storage` ุจุฏูุงู ูู `SharedPreferences` ููุจูุงูุงุช ุงูุญุณุงุณุฉ

### 2. ุชุญุณููุงุช ุงูุฃุฏุงุก
- [ ] ุฅุถุงูุฉ ุขููุฉ ุฅุนุงุฏุฉ ุงููุญุงููุฉ (Retry Mechanism) ุนูุฏ ูุดู ุงูุฅุฑุณุงู
- [ ] ุชุฎุฒูู ุงูููุงูุน ุงููุญููุฉ ูู ุญุงูุฉ ุนุฏู ุงูุงุชุตุงู (Offline Queue)
- [ ] ุชุญุณูู ุงุณุชููุงู ุงูุจุทุงุฑูุฉ ุจุชูููู ุชูุฑุงุฑ ุงูุฅุฑุณุงู

### 3. ุชุญุณููุงุช ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- [ ] ุฅุถุงูุฉ ุฅุดุนุงุฑุงุช ุนูุฏ ูุฌุงุญ/ูุดู ุงูุฅุฑุณุงู
- [ ] ุนุฑุถ ุณุฌู ุงูุฅุฑุณุงูุงุช
- [ ] ุฅุถุงูุฉ ุฅุนุฏุงุฏุงุช ูุชุบููุฑ ุชูุฑุงุฑ ุงูุฅุฑุณุงู

### 4. ุชุญุณููุงุช ุงูููุฏ
- [ ] ูุตู ุฅุนุฏุงุฏุงุช API ุฅูู ููู ูููุตู (config file)
- [ ] ุฅุถุงูุฉ ูุนุงูุฌุฉ ุฃูุถู ููุฃุฎุทุงุก
- [ ] ุฅุถุงูุฉ Logging System ูุญุชุฑู

---

## ๐ ุงููููุน ุงูุญุงูู ูู ุงูููุฏ

### ููู API Service:
**ุงูููู:** `lib/services/api_service.dart`  
**ุงูุณุทุฑ:** 17

```dart
static const String _apiUrl = 'https://d72f2aef-918c-4148-9723-15870f8c7cf6-00-2c1ygyxvqoldk.riker.replit.dev/api/external/employee-location';
```

### ููู Setup Screen:
**ุงูููู:** `lib/screens/setup_screen.dart`  
**ุงูุณุทุฑ:** 19-21

```dart
final _apiKeyController = TextEditingController(
  text: 'test_location_key_2025',
);
```

---

## ๐ ูุนูููุงุช ุฅุถุงููุฉ

- **ุงุณู ุงููุดุฑูุน:** `nuzum_tracker`
- **ุงูุฅุตุฏุงุฑ:** `1.0.0+1`
- **SDK:** `^3.9.2`
- **ุงููุบุฉ:** ุงูุนุฑุจูุฉ (RTL Support)
- **ุงูููุตุฉ:** Android, iOS, Web, Windows, Linux, macOS

---

## ๐ ุฑูุงุจุท ูููุฏุฉ

- **ูุณุชูุฏุน GitHub:** https://github.com/feras-swed/nuzum-tracker-app
- **API Endpoint:** https://d72f2aef-918c-4148-9723-15870f8c7cf6-00-2c1ygyxvqoldk.riker.replit.dev/api/external/employee-location

---

**ุชุงุฑูุฎ ุงููุญุต:** 2025-01-27  
**ุงูุฎุจูุฑ:** Flutter Development Expert

